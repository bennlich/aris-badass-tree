<!DOCTYPE html>
<html lang="en">
  <head>
    <title>VRController for Three.js (WebVR)</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <style>
      body {
        margin: 0;
        overflow: hidden;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        font-size: 13px;
        line-height: 20px;
      }
      header {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 20px;
      }
      button {
        border-radius: 4px;
        background-color: #F40 !important;
        padding: 12px !important;
      }
    </style>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/r87/build/three.js"></script>
    <script src="https://cdn.rawgit.com/mrdoob/three.js/r87/examples/js/vr/WebVR.js"></script>
    <script src="https://cdn.rawgit.com/dataarts/dat.guiVR/master/build/datguivr.js"></script>
    <script src="OBJLoader.js"></script>
    <script src="Reflector.js"></script>
    <script src="Refractor.js"></script>
    <script src="Water2.js"></script>
    <script src="GeometryUtils.js"></script>
    <script src="script.js"></script>
  </head>
  <body>
    <script>
      //  Hi! I think you’re going to like this VR stuff :)
      //  This index.html file created by Jeff Nusz / http://custom-logic.com
      //  refactored and commented by Stewart Smith / http://stewartsmith.io
      //  because this stuff is fun and you can learn it with us!
      //  The real heart of this is VRController.js -- check it out!

      //  Does this browser support the WebVR API?
      //  Here’s how to download and configure one that does:
      //  https://webvr.rocks

      WEBVR.checkAvailability().catch(function(message) {
        document.body.appendChild(WEBVR.getMessageContainer(message));
      });

      //  Regardless, let’s kick off the Three.js basics here:

      var camera, scene, renderer, controls;

      var tree;
      var treeMaterial;
      var meshMaterialFive;
      var rotation = 0;
      
      //text STUFF
      //var texts = [];
      var textMeshes = [];
      var textGroup, textMesh1, textMesh2, textGeo;
      //experiment with multiple rotating texts
      var textsGroup = [];
      var firstLetter = true;
      //var sentence = "";
      //model animation stuff
      var translateCounter = 0;
      var scaleCounter = 0;
      //some language stuff
      var websiteArray = [];
      var websiteArrayBig = [];
      var word = "";


      //  We need a renderer.

      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setClearColor(0x000000);
      renderer.setPixelRatio(window.devicePixelRatio);
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.vr.enabled = true;
      renderer.vr.standing = true;
      renderer.shadowMap.enabled = true;
      renderer.shadowMap.type = THREE.PCFSoftShadowMap;
      document.body.appendChild(renderer.domElement);

      //  Once we create the camera we’ll attach it to the scene. This is usually
      //  not necessary, but we’re going to attach a “head” to the camera that casts
      //  a shadow so you can see evidence of your own presence.

      camera = new THREE.PerspectiveCamera(
        50,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      scene = new THREE.Scene();
      scene.add(camera);

      //  This button is important. It toggles between normal in-browser view
      //  and the brand new WebVR in-your-goggles view!

      WEBVR.getVRDisplay(function(display) {
        renderer.vr.setDevice(display);
        document.body.appendChild(
          WEBVR.getButton(display, renderer.domElement)
        );
      });

      //  Should things change in the future we’ve got you covered:

      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }
      window.addEventListener("resize", onWindowResize, false);

      //  This shortcut will be useful for later on down the road...

      applyDown = function(obj, key, value) {
        obj[key] = value;
        if (obj.children !== undefined && obj.children.length > 0) {
          obj.children.forEach(function(child) {
            applyDown(child, key, value);
          });
        }
      };
      castShadows = function(obj) {
        applyDown(obj, "castShadow", true);
      };
      receiveShadows = function(obj) {
        applyDown(obj, "receiveShadow", true);
      };

      //  Ok, we’ve got the basic Three.js overhead out of the way.
      //  Now let’s add some stuff to our empty scene.

      var light = new THREE.DirectionalLight(0xffffff, .5, 100);
      light.position.set(1, 10, -0.5);
      light.castShadow = true;
      light.shadow.mapSize.width = 2048;
      light.shadow.mapSize.height = 2048;
      light.shadow.camera.near = 1;
      light.shadow.camera.far = 12;
      scene.add(light);

      //scene.add( new THREE.HemisphereLight( 0x909090, 0x404040 ))

      //this is the red spotlight
      var spotLight = new THREE.SpotLight(0xff0000);
      spotLight.position.set(100, 200, 100);
      spotLight.angle = Math.PI / 6;
      spotLight.penumbra = 0.9;
      scene.add(spotLight);
      //light container
      lightContainer = new THREE.Object3D();
      lightContainer.add(spotLight);
      scene.add(lightContainer);

      var floor = new THREE.Mesh(
        new THREE.PlaneBufferGeometry(6, 6, 12, 12),
        new THREE.MeshStandardMaterial({
          roughness: 1.0,
          metalness: 0.0,
          color: 0xffffff,
          transparent: true,
          opacity: 0.8
        })
      );
      floor.rotation.x = Math.PI / -2;
      floor.receiveShadow = true;
      //scene.add( floor )

      var wireframe = new THREE.Mesh(
        floor.geometry.clone(),
        new THREE.MeshBasicMaterial({
          color: 0xffffff,
          wireframe: true
        })
      );
      wireframe.rotation.x = Math.PI / -2;
      wireframe.position.y = -0.001;
      //scene.add( wireframe )

      //  Your head is going to cast a shadow.
      //  You won’t see this sphere because it’s single-sided be default
      //  and the camera is sitting on the inside ;)

      /* var head = new THREE.Mesh(

	new THREE.OctahedronGeometry( 0.08913, 2 ),
	new THREE.MeshStandardMaterial()
)
head.castShadow = true
camera.add( head ) */

      var torus = new THREE.Mesh(
        new THREE.TorusKnotGeometry(0.4, 0.15, 256, 32),
        new THREE.MeshStandardMaterial({ roughness: 0.01, metalness: 0.2 })
      );
      torus.position.set(-0.25, 1.4, -1.5);
      torus.castShadow = true;
      torus.receiveShadow = true;
      //you can put the torus back in here if you want
      //scene.add( torus )

            //TEXT STUFF/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

      function randomChoice(arr) {
        return arr[Math.floor(arr.length * Math.random())];
      }

      
      websiteText =
        "Migratory Paths: Traveling by Water, Land, and New Terrains - November 17, 2018 - January 16, 2019Migratory Paths: Traveling by Water, Land and New Terrains was an exhibition that examined the effects of migration where old cities and social paradigms dissolve and new ones form with the causes rooted in political and capital centralized structures of control The exhibition brought together creative works that documented contemporary and speculative migrations over water, land and social terrains, along with the precursors that trigger the need to migrate, presenting both the personal narratives that are being experienced as well as the macro narratives that exist Curated by Joty DhaliwalCyanoMag1jpgCyanovisions - Initial Studies - September 1 - 28, 2018Cyanovisions - Initial Studies was a series of living and non-living art works by Tiare Ribeaux that considered our relationship to our changing environment, ecosystems and microorganisms These works focus on the global environmental phenomenon of harmful algal blooms of cyanobacteria as intertwined with human development and waste, our technological fetishes, and the increasingly biotechnological landscape of earth As the science of one age is often the mythology of the next, Cyanovisions aims to blur the lines between science fact and fiction, and to imagine more symbiotic and multi-species futures   softwarpngSoftwar(e)  - May 12 - June 16, 2018Softwar(e) was a group exhibition with Leily Khatibi, Roya Ebtehaj, Yi Liu, Fan Feng, Cleia Dantas with support from Andrew Blanton and Rhonda Holberton It looked poetically at the authoritarian control of information for people enduring geographical predetermination or exploitation by opaque, algorithm-driven societies Softwar(e) addresses the ways we engage and access information It is a call to action for the development of alternative methods to circumvent the immense global influence and power Screen Shot 2018-01-30 at 125308 PMpngVITAL HYBRIDS - November 17 - December 15, 2017VITAL HYBRIDS was a showcase of collaborative works by local Bay Area and LA based women and queer artists bridging visual arts, performance, and technology culminating as both a month-long exhibition and a night of performances These works tackled important national and global issues such as women's and transgender rights, visibility, and safety, fighting actively against xenophobia, processing trauma, and more  -  by exploring post-digital and post-gender identity, safety online and offline, anti-harassment, sousveillance, and more Curated by Tiare Ribeaux and made possible with Kenneth Rainin's New and Experiental Work Grant  IMG_2017-12-28 12:55:54jpgLiss LaFleur - New Frontiers - October 13 - November 10, 2017Visiting artist Liss LaFleur's work focused on the question of what queer deconstruction and demystification can do, and how to use it responsibly In her collection of video, photography, and writing, she proposed that queerness, like dye, runs through the family line and is sometimes undeniable Gelatin molds - relics from our past and windows into cultural ideas of female objectification - are reworked in New Frontiers using 3D scanning technologies in virtual space Her provocative and complex work offered a timely response to our current political climate through a powerful repositioning of the female body  resextensajpgLubricated Substrates - Earth Infrastructure, Light and the Oil Ontology - Elia Vargas, June 30 - July 29, 2017Lubricated Substates was a solo exhibition with Elia Vargas featuring his expansive body of work investigating light as material, earth infrastructures, oil materialities, earth energies, and global transmissions through video, photo, 3D prints, sculpture, and collaborative performance works Lubricated Substrates explored crude oil as a network of ideological formulation, enabling certain pathways of enunciation  Believe the Hype: Propaganda, the Internet and New Activisms - May 27 - June 17, 2017Believe the Hype was an expansive group exhibition that featured digital, visual and performance artists utilizing social media, digital art, new media, video, voices in conversation and ideas in movement to investigate and redefine the hunt for truth in the Trump era Believe the Hype sought to engage the Fake News crisis directly with tentacular, multimedia methods of exploration, inquiry, and healing It asked: What is the essence of propaganda in the internet age? Co-curated by Elle Aviv Newton and and Tiare Ribeaux Visible - Patricia Robinson, April 15 - May 6, 2017Visible was a solo exhibition featuring artist, technologist and scholar Patricia Robison She elegantly unveiled opaque and often obfuscated data sets of relevant socio-economic issues and significant discrepancies in America such accessibility to arts and science programs on a national public scale; wage gaps in relation to gender and race; women's health; and real time environmental health data This work was displayed as interactive projected works of data visualizations, 3D printed sculptures from generative art pieces, web-based art, and data sonification   FELT B4E - Felt Zine, March 11 - April 7, 2017FELT B4E was an exhibition of digital art projects produced by FELT Zine in collaboration with artists: Terrell Davis, Jeremy McKeehen, Ruby Gloom, Jawn Billetes, Simon Falk, Nicole Ruggiero, Jess Audrey, Kim Laughton, and more Curated by Mark Digital Sabb, the exhibition featured new videos and gifs by Net Artists associated with FELT; virtual reality simulations within physical installations inspired by the Y2K aesthetic; live video streaming; and interactive digital art experiences   Side Gig - Anxious to Make (Liat Berdugo and Emily Martinez), November 19th - December 15th, 2016Side Gig was a multi-faceted showcase of new+old works from Anxious to Make, whose work focuses on the so-called sharing economy and its effects on our human lives and artistic practices Side Gig activated the gallery in myriad forms and permutations, and included video works, pillows, a nap room for Uber drivers (and other workers of the sharing economy), an audio hypnosis track for creative practitioners, interactive surveys, selected items from the Archive of the Center for the Sharing Economy, as well as a section of the gallery roped off that could only be accessed by hiring a worker from the sharing economy to tour this area  Traversee-TERRE_72dpi-2jpgBirds and Spaces - curated by Stephanie Vidal, October 15th - November 15th, 2016Birds and Spaces was produced almost entirely online with French curator Stephanie Vidal through video chats, emails, and file transfers It featured artists Caroline Delieutraz, Enora Denis, Marie-Luce Nadal, and Geraud Soulhiol and explored the notion and the tension of borders at a time when we are feeling the pervasiveness of made-man boundaries (political, technological, sociological and otherwise) by revealing their materiality and questioning the phenomena of possession/dispossession they induce    TLDR (Too Long, Didn't Read) - Group Exhibition curated by Joanna Cheung, September 2nd - October 2nd, 2016TLDR (Too Long, Didn't Read) was the culmination of an art exhibition, digital arts workshops and artist talks investigating the influence of digital culture on the evolution of language and text The work presented in TLDR investigated how new forms and uses of languages, text and technologies are transforming common qualities of humanism such as emotions, mutual misunderstandings, and desires The exhibition pointed at the role of machine processing in the formation of two practices of language: The first practice being instructive coding and the latter being semantics Artistic authorship comes twofold - first in the process of creating and secondly in the process of conveying Var Poetics = Fuction {EML},  September 17th, 2016Var Poetics = Function {EML} was the launch of Poets Reading The News, an innovative digital media project that bridges journalism and poetry and presented a multi-dimensional event which explored the electric borders of poetics, activism, and technology This event featured the artist collective Saito Group, an anonymous group of writers, designers and hackers in support of the right to the city, data rights and economic solidarity They streamed their crowdsourced Twitter poems and gave an anonymous live Q&A with the curators   BodyShift: Transgress - Zen Cohen, Zoey Vero, and Colton Long - May 7th, 2016BodyShift was the fourth and final performance segment for Transgress - a journey through the notions of perceived gender glitches and an evolution of identity in past, present, and future By using live sound, cameras, and projections the piece explored the chaotic dissociation and experiential discomfort set against the expectations of a binary world based on representations, stereotypes, and ideals BodyShift: Transgress took the form of a performance finale and pop-up exhibition    semigloss: SOUND - Sally Glass - April 16th - May 16th, 2016semigloss is a print release contemporary art publication that hosted the release of their SOUND issue through an installation through which visitors could experience the works contained on the record in real time semigloss SOUND explored sonic experiences through performance, spoken word, and music discussed within the context of contemporary art     WYD - Adrian Clutario - March 19th - April 14th, 2016WYD was a showcase of new and old works by Adrian Clutario which focused on the performative and intersectional aspects of LGBT social media As a queer femme person of color, Clutario has created work in which reflect his experiences on this particular medium of digital interaction His work demonstrates the encounters of objectification, racial fetishism, and internalized misogyny through paintings, sculpture, and performance      Socio Synthetic: Digital Failures - Devon Makoto Lei and Jennifer MehiganFebruary 27th - March 25th, 2016Oakland based artist Devon Makoto Lei and Dublin-based Jennifer Mehigan presented a series of works that explored the embodiment and disembodiment of our digital existences - our social media personalities, cyber aliases, and our myriad relationships with screens and the 4th Dimension The work was shown via iPads printed poetry, new prints on fabric and videos Jennifer Mehigan joined us for a panel via Skype from Singapore on the opening night, which you can find a segment of here   the-pile2jpgArchive Fever: Future Imaginings of Things Past - Morehshin Allahyari, Jenny Odell and Caroline Sinders, January 15th - February 16th, 2016With the rise of social media, augmented reality, and 3D printing as new ways of archiving, slippages between animate and inanimate are significantly changing This exhibition explores three artistic practices that span personal objects to cultural artifacts with deep historical and social significance The curated series of objects comes from the archives of Morehshin Allahyari, Jenny Odell, and Caroline Sinders, curated by Dorothy Santos    <gender> || <technology> - Jared Greundl - November 21st, 2015<gender> || <technology> was our first Emergent Media Lab curated by Jared Gruendl and took the from of a group exhibition and performance salon that explored the boundaries of gender when intersected with phenomena such as disembodiment onto screens, AI, and the fragmenting of identity onto digital platforms  SEKDEK - Prints by Brice Frillici, July 10th - August 13th, 2015SEKDEK (spirit extraction kit // demon extraction kit) is a series of fantastically colorful, expressive & psychedelically gory sculptured head and torso images that were caught using an expressionistic painting / messy visual chaos technique that includes throwing, spreading and or spitting clay, acrylic paint, glitter, fake blood, wigs, fabrics and flour etc all over the body  Opening Exhibition featured a collection of selected prints by artist Brice Frillici, video installation, and a live music set by Brice Frillici and Tenkai  fashbapsmalljpgFashion Baptism (Laundromat Revival) - June 19th - July 10th, 2015Bay Area based artists Camilla Carper, Heather Minter, Hah Holton, and Marissa Patrice-Leitman presented a multimedia participatory opening event that involved the collective transformation of a garment addressing and exorcising problems with the fashion system, and re-focusing attention on the positive aspects of fashion The performance involved live collage, a procession from the laundromat to the gallery, a video installation and live music performance  FAUX REAL - Immersive Theater, April 5th, 2015Faux Real was an annual Avant-Drag Masquerade co-curated by Najee Rene and Tiare Ribeaux with styling and stage design by Hah Holton The gallery and work studios were taken over for 2 levels of immersive interactive installations and performances interspersed throughout a night of innovative performance and gender-bending   Toxic Waste Face - Performance + Multimedia Salon - February 28th, 2015Toxic Waste Face curated a night of diverse performances by Pseuda, Cucci Binaca (Seattle),Tyler Holmes, Bebe Huxley, and VAINHEIN  The world premiere of Oakland based musician and performance artist Vain Hein's Music Video for Gag Order: Tyler Holmes Remix was also featured You can find a video of the performances here   overtherainbowforwebjpgOver the Rainbow - New Works by Chris Ritson - November 14th, 2014 - January 10th, 2015Honolulu based artist Chris Ritson presented a collection of new video works and bismuth sculptures Creating works atop the tropical Mount Tantalus, Chris draws his materials from the natural detritus of his immediate surroundings and aims to reconfigure the most elemental substances into objects and phenomena that elicit unique temporal wondersYou can find the full gallery here Obsolete Technology - Group Exhibition; October 9th - November 9th, 2014With computers and other technologies advancing so rapidly, yesterday's amazing tools and toys are quickly discarded in favor of better ones before their full potential is explored Obsolete Technology presented a group art show featuring a selection of creative new uses for supposedly obsolete technologies such as reinterpreting the selfie, digital archives of services offered by machines, glitched layers onto gaming experiences, and more   Ephemeral Vessels - September 29, 2014A Multimedia Group Exhibition in collaboration with CODAMEB4BEL4B + CODAME presented a multimedia group art show presenting 2 floors of audiovisual interactive art + interfaces, light sculptures, live 3D scanning, and live music performance for an ephemeral one night only art exhibition  It featured 14 different artists from Oakland, San Francisco, Los Angeles, and included an artist-avatarYou can find a video of the night here  Islands Of Flesh, A Living Sculpture Exhibition by Ben Phelps-Rohrs  - August 15, 2014This show attempted to stage the confrontation between material objects and human bodies The human tendency towards depersonalization (as in furniture bondage, sensory deprivation, and transcendental experiences) was explored in a two-story sculpture/performance installation at the galleryVideo from the installation    MAS#ALLAH - Artist Residency - Hawa Arsala - July through August, 2014B4BEL4B welcomes Oakland based interdisciplinary artist Hawa Arsala this July for its first artist residency Titled MAS#ALLAH, the project will serve as an incubator for dialogue about Middle Eastern cultural heritage, examining the ways traditions influence our identities as individuals and artists in the digital age, across national borders Hawa intends to use the gallery not only to show her own work, but for collaborations among artists of Middle Eastern heritage from the Netherlands to Dubai      B Dy       L BBy - June 4th - July 1st, 2014An Australian Group Art Show featuring Loren Kronemyer, Alex Last, and Chloe TineBody Lobby was the result of a collaboration between artists Loren Kronemyer, Alex Last, and Chloe Tine Concepts and images were designed over national and international borders using online drives, chat rooms and live video relay Initial discussions highlighted a shared interest in contemporary notions of 'wellness' as they are defined and re-appropriated within competing culture-industries They compiled a virtual library of audio, video and text-based documents derived from the aesthetic output of these industries and then, over the course of several weeks, used the contents of this library as the raw materials for a series of new works  The work displayed included large-format digital prints, 2 buttons, and the creation of a Lobby within the gallery itself  Cognitive Dissonance - A Systematic Derangement of the Senses, co-curated by Joey CasioApril 1st - June 1st, 2014The goal of Cognitive Dissonance was to create a fully immersive sensory environment, each installation of which had involved the stimulation of one or more of each the 5 senses, eg sight, touch, taste, sound, and smell  To accomplish this, we invited 8 different bay area based artists to be involved and assigned each artist one or more senses to focus on with the option of using the audience and themselves for experimentation  The goal was to create an environment that would mimic synesthesia, where multiple senses crossed over or were experienced in entirely new ways";
      websiteTextSplit = websiteText.split(" ");

      //multiple
      for (var j = 0; j < 8; j++) {
        for (var i = 0; i < 8; i++) {
          word = randomChoice(websiteTextSplit);
          websiteArray.push(word);
        }
        //console.log(websiteArray);
        websiteArrayBig.push(websiteArray);
        websiteArray = [];
      }
      console.log(websiteArrayBig);

      //}
      //sentence = ["me", "you", "our buds", "some", "other", "buds", "righto!"];

      //reading from the database into the language
      //firebase.database().ref('/hod').once('value').then(function(snapshot) {
      //var sentenceUse = (snapshot.val());
      //sentence = sentenceUse.split(" ");
      //sentence.reverse();

      //console.log(sentence)
      //var senPos = ["0", "0", "0"];

      //for loop
      //accepts string

      //array of random constructed language
      for (var i = 0; i < websiteArrayBig.length; i++) {
        initiateLanguage(50 - i * 10, 10 + i * 10, i, websiteArrayBig[i]);
      }

      //LOADING TEXT INTO MODAL 1
      //websiteText = websiteArrayBig
      //join method
      //

      //FIREBASE OPERATIONS: THIS IS WHERE YOU CAN RE-WRITE INTO IT
      //writing to the database, textfield 1
//       document
//         .getElementById("modalButton")
//         .addEventListener("click", function() {
//           var ref = firebase.database().ref("/hod");
//           var newChildRef = ref.push();
//           newChildRef.set({
//             entry: document.getElementById("modalText").value
//           });

//           //once you submit, it tells you the amount of boids
//           firebase
//             .database()
//             .ref("/hod")
//             .once("value")
//             .then(function(snapshot) {
//               var sentenceObject = snapshot.val();
//               amountofBoids = Object.keys(sentenceObject).length;
//               console.log(amountofBoids);
//             });

          var submittedSentenceWords = websiteText
          //     //document
          //   //.getElementById("modalText")
          //   //.value.split(" ");
          var firstArray = [];
          var bigSecondArray = [];
          var wordCounter = 0;
          // textsGroup[0].children = [];
          // textsGroup[1].children = [];
          // textsGroup[2].children = [];
          // textsGroup[3].children = [];
          // textsGroup[4].children = [];
          // textsGroup[5].children = [];
          // textsGroup[6].children = [];
          // textsGroup[7].children = [];
          // textsGroup[8].children = [];
          // scene.remove(textsGroup[0]);
          // scene.remove(textsGroup[1]);
          // scene.remove(textsGroup[2]);
          // scene.remove(textsGroup[3]);
          // scene.remove(textsGroup[4]);
          // scene.remove(textsGroup[5]);
          // scene.remove(textsGroup[6]);
          // scene.remove(textsGroup[7]);
          // scene.remove(textsGroup[8]);
          //remove ACTUAL FUCKING WORDS 8X

          for (var j = 0; j < 8; j++) {
            for (var i = 0; i < 8; i++) {
              //this writes in new language
              firstArray.push(submittedSentenceWords[wordCounter] || "");
              wordCounter = wordCounter + 1;
            }
            bigSecondArray.push(firstArray);
            firstArray = [];
          }
          for (var i = 0; i < bigSecondArray.length; i++) {
            initiateLanguage(50 - i * 10, 10 + i * 10, i, bigSecondArray[i]);
          }
          //add back in the textgroups
          scene.add(textsGroup[0]);
          scene.add(textsGroup[1]);
          scene.add(textsGroup[2]);
          scene.add(textsGroup[3]);
          scene.add(textsGroup[4]);
          scene.add(textsGroup[5]);
          scene.add(textsGroup[6]);
          scene.add(textsGroup[7]);
          scene.add(textsGroup[8]);
      
      //did I not need this
        //});

      //initiateLanguage(40, 10, 0, websiteArrayBig[0]);
      // initiateLanguage(30, 20, 1);
      // initiateLanguage(20, 30, 2);
      // initiateLanguage(10, 40, 3);
      // initiateLanguage(0, 50, 4);
      // initiateLanguage(-10, 60, 5);
      // initiateLanguage(-20, 70, 6);
      // initiateLanguage(-30, 80, 7);
      // initiateLanguage(-40, 90, 8);
      //});

      //var sentence = ["Sone", "Takeshi", "---", "kite", "a", "---", "Japan", "about", "thinks", "it"];
      //this makes interesting sentences in diagonals
      //var sentence = [sentences[0], sentences[1], sentences[2], sentences[3], sentences[4], sentences[5], sentences[6], sentences[7], sentences[8], sentences[9]];
      //var texts = sentences[0].split(" ");
      //var sentence = [texts[0], texts[1], texts[2], texts[3], texts[4], texts[5], texts[6], texts[7], texts[8], texts[9]];
      //var senPos = ["0", "0", "0", "-10", "20", "0", "30", "-30", "10", "-10"];

      //LANGUAGE:
      //for (var i = 0; i<12; i++){
      //this is statically loading texts; eventually, you're going to have to do it dynamically
      function initiateLanguage(ringHeight, offset, tGroup, sString) {
        var font;
        var sentence = sString;
        var texts = [];

        for (var i = 0; i < sentence.length; i++) {
          texts[i] = sentence[i];
          //   height = 1,
          //   size = 10,
          //   hover = 105,
          //   curveSegments = 4,
          //   bevelThickness = 2,
          //   bevelSize = 1.5,
          //   bevelEnabled = false,
          //   font = undefined,
          //   fontName = "optimer", // helvetiker, optimer, gentilis, droid sans, droid serif
          //   fontWeight = "regular"; // normal bold
        }

        function loadFont() {
          //loader of any kind is asychronous, there will always be a delay, so you run into timing issues
          var loader = new THREE.FontLoader();
          loader.load(
            "optimer" + "_" + "regular" + ".typeface.json",
            function(response) {
              font = response;
              for (var i = 0; i < sentence.length; i++) {
                createText(texts[i], i);
              }
            }
          );
        }
        loadFont();
        function createText(textObject, number) {
          textGeo = new THREE.TextGeometry(textObject, {
            font: font,
            size: 10,
            height: 1,
            curveSegments: 4,
            bevelThickness: 2,
            bevelSize: 1.5,
            bevelEnabled: false
          });
          textGeo.computeBoundingBox();
          textGeo.computeVertexNormals();
          textGeo.center();
          // "fix" side normals by removing z-component of normals for side faces
          // (this doesn't work well for beveled geometry as then we lose nice curvature around z-axis)
          //if (!bevelEnabled) {
          var triangleAreaHeuristics = 0.1 * (textGeo.height * textGeo.size);
          for (var i = 0; i < textGeo.faces.length; i++) {
            var face = textGeo.faces[i];
            if (face.materialIndex == 1) {
              for (var j = 0; j < face.vertexNormals.length; j++) {
                face.vertexNormals[j].z = 0;
                face.vertexNormals[j].normalize();
              }
              var va = textGeo.vertices[face.a];
              var vb = textGeo.vertices[face.b];
              var vc = textGeo.vertices[face.c];
              var s = THREE.GeometryUtils.triangleArea(va, vb, vc);
              if (s > triangleAreaHeuristics) {
                for (var j = 0; j < face.vertexNormals.length; j++) {
                  face.vertexNormals[j].copy(face.normal);
                }
              }
            }
          }
          //}
          var centerOffset =
            -0.5 * (textGeo.boundingBox.max.x - textGeo.boundingBox.min.x);
          textGeo = new THREE.BufferGeometry().fromGeometry(textGeo);
          //var r = 125;
          var r = 175;
          var theta = 0;

          //+Math.random(-10,10)

          textMeshes[number] = new THREE.Mesh(textGeo, material);
          //textMeshes[number].position.x = centerOffset;
          //textMeshes[number].position.y = hover-10;
          textMeshes[number].position.y = ringHeight; //senPos[number]; //(hover-100) +
          textMeshes[number].rotation.y = number * 2;
          theta = (number * Math.PI) / 6 + offset;
          textMeshes[number].position.x = r * Math.cos(theta);
          textMeshes[number].position.z = r * Math.sin(theta);
          textMeshes[number].rotation.y = -theta + ((Math.PI*3)/2); //Math.PI / 2; // rotation to be front facing
          ////textGroup.add(textMeshes[number]);
          textsGroup[tGroup].add(textMeshes[number]);
        }
      }
      //Annotations
      ////textGroup = new THREE.Group();
      ////scene.add(textGroup);

      //controlling different rings...
      textsGroup[0] = new THREE.Group();
      textsGroup[1] = new THREE.Group();
      textsGroup[2] = new THREE.Group();
      textsGroup[3] = new THREE.Group();
      textsGroup[4] = new THREE.Group();
      textsGroup[5] = new THREE.Group();
      textsGroup[6] = new THREE.Group();
      textsGroup[7] = new THREE.Group();
      textsGroup[8] = new THREE.Group();
      // scene.add(textsGroup[0]);
      // scene.add(textsGroup[1]);
      // scene.add(textsGroup[2]);
      // scene.add(textsGroup[3]);
      // scene.add(textsGroup[4]);
      // scene.add(textsGroup[5]);
      // scene.add(textsGroup[6]);
      // scene.add(textsGroup[7]);
      // scene.add(textsGroup[8]);

      
      //CUBE MAP CODE/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      //textures
      //var r = "public/js/Bridge2/";
      //var urls = [r + "posx.jpg", r + "negx.jpg",
      //  r + "posy.jpg", r + "negy.jpg",
      //  r + "posz.jpg", r + "negz.jpg"
      //];
      var urls = [
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fposx.jpg?1557524480549",
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fnegx.jpg?1557524416837",
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fposy.jpg?1557524480260",
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fnegy.jpg?1557524480488",
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fposz.jpg?1557524480996",
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fnegz.jpg?1557524480654"
      ];
      textureCube = new THREE.CubeTextureLoader().load(urls);
      textureCube.format = THREE.RGBFormat;
      textureCube.mapping = THREE.CubeReflectionMapping;
      textureCube.encoding = THREE.sRGBEncoding;
      //material
      treeMaterial = new THREE.MeshLambertMaterial({
        envMap: textureCube,
        emissive: 0xffffff
        //wireframe: true
      });

      //TOON MATERIAL////////////////////////////////////////////////////////////////////////////////////
      //material
      const fiveTone = new THREE.DataTexture(
        Uint8Array.from([
          0,
          0,
          0,
          64,
          64,
          64,
          128,
          128,
          128,
          192,
          192,
          192,
          255,
          255,
          255
        ]),
        5,
        1,
        THREE.RGBFormat
      );
      fiveTone.needsUpdate = true;
      //emissive, shininess, specular
      const material = new THREE.MeshToonMaterial({
        gradientMap: fiveTone,
        color: 0x5588ff,
        shininess: 25,
        emissive: 0x022222,
        specular: 0xff0000,
        flatShading: false
      });
      
    //REFLECTION/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    var params = {
      color: "#ff0000", //#ff0000 red
      scale: 0.5,
      flowX: 0.5,
      flowY: 0.5
    };
    var waterGeometry = new THREE.PlaneBufferGeometry(2000, 2000);
    var water = new THREE.Water(waterGeometry, {
      color: params.color,
      scale: params.scale,
      flowDirection: new THREE.Vector2(params.flowX, params.flowY),
      textureWidth: 1024,
      textureHeight: 1024
    });
    water.position.y = 1.5; //-98;
    water.rotation.x = Math.PI * -0.5; //flips the whole water direction
    water.scale.x = 10;
    water.scale.y = 10;
    //DOPENESS
    //scene.add(water);
    //the problem is that the water is not stereoscopic for some reason

      
      ///////////////////////////////////////////////////////////////////////////////////////////////////////

      meshMaterialFive = new THREE.MeshPhongMaterial({
        color: 0x2194ce,
        emissive: 0x0,
        specular: 0xff0000,
        shininess: 100,
        transparent: true,
        opacity: 0.75
      });

      //then you have to go put the treeMaterial for the tree
      //TREE://///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      //loading an OBJ
      var loader = new THREE.OBJLoader();
      loader.load(
        //'JASMIM+MANGA.obj', //tree
        //"yourMesh.obj", //fox
        //"starCreature.obj"
        //NAME OF THE ASSET FROM GLITCH;
        //the real one
        //"https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2FstarCreature.obj?1557347759568",
        //the scanned trees
        "https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2Fmap_d9ec16cc-067f-4d8a-b9fe-0fc9f3f0d2b1_densified_mesh_textured.obj?v=1587175496214",
        //"https://cdn.glitch.com/0fbd268f-7a9c-43b7-93ee-804d1f817d3d%2FProject%20Name.obj?v=1582520829442",
        //"fatBuddha.obj",
        //'model.obj',
        function(object) {
          //how you turn the tree ON
          scene.add(object);
          tree = object;

          //person size
          tree.scale.x = 1.05;
          tree.scale.y = 1.05;
          tree.scale.z = 1.05;
          //person size
          tree.translateZ(-2.5);
          //tree.translateY(1);

          //all sorts of weird shit going on
          // tree.scale.x = 4;
          // tree.scale.y = 4;
          // tree.scale.z = 4;
          // tree.translateZ(-150);
          // tree.translateY(1);

          object.traverse(function(child) {
            if (child instanceof THREE.Mesh) {
              child.material = meshMaterialFive;
              //meshMaterialTwo
            }
          });
          tree.renderOrder = 0;
        }
      );
      //TREE://///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

      //  DAT GUI for WebVR is just one of the coolest things ever.
      //  Huge, huge thanks to Jeff Nusz / http://custom-logic.com
      //  and Michael Chang / http://minmax.design for making this!!
      //  https://github.com/dataarts/dat.guiVR

      dat.GUIVR.enableMouse(camera);
      var gui = dat.GUIVR.create("Settings");
      gui.position.set(0.2, 0.8, -1);
      gui.rotation.set(Math.PI / -6, 0, 0);
      //you can add the gui back if you want
      //scene.add( gui )
      gui
        .add(torus.position, "x", -1, 1)
        .step(0.001)
        .name("Position X");
      gui
        .add(torus.position, "y", -1, 2)
        .step(0.001)
        .name("Position Y");
      gui
        .add(torus.rotation, "y", -Math.PI, Math.PI)
        .step(0.001)
        .name("Rotation")
        .listen();
      castShadows(gui);

      //  Check this out: When THREE.VRController finds a new controller
      //  it will emit a custom “vr controller connected” event on the
      //  global window object. It uses this to pass you the controller
      //  instance and from there you do what you want with it.

      window.addEventListener("vr controller connected", function(event) {
        //  Here it is, your VR controller instance.
        //  It’s really a THREE.Object3D so you can just add it to your scene:

        var controller = event.detail;
        scene.add(controller);

        //  HEY HEY HEY! This is important. You need to make sure you do this.
        //  For standing experiences (not seated) we need to set the standingMatrix
        //  otherwise you’ll wonder why your controller appears on the floor
        //  instead of in your hands! And for seated experiences this will have no
        //  effect, so safe to do either way:

        controller.standingMatrix = renderer.vr.getStandingMatrix();

        //  And for 3DOF (seated) controllers you need to set the controller.head
        //  to reference your camera. That way we can make an educated guess where
        //  your hand ought to appear based on the camera’s rotation.

        controller.head = window.camera;

        //  Right now your controller has no visual.
        //  It’s just an empty THREE.Object3D.
        //  Let’s fix that!

        var meshColorOff = 0xdb3236, //  Red.
          meshColorOn = 0xf4c20d, //  Yellow.
          controllerMaterial = new THREE.MeshStandardMaterial({
            color: meshColorOff
          }),
          controllerMesh = new THREE.Mesh(
            new THREE.CylinderGeometry(0.005, 0.05, 0.1, 6),
            controllerMaterial
          ),
          handleMesh = new THREE.Mesh(
            new THREE.BoxGeometry(0.03, 0.1, 0.03),
            controllerMaterial
          );

        controllerMaterial.flatShading = true;
        controllerMesh.rotation.x = -Math.PI / 2;
        handleMesh.position.y = -0.05;
        controllerMesh.add(handleMesh);
        controller.userData.mesh = controllerMesh; //  So we can change the color later.
        controller.add(controllerMesh);
        castShadows(controller);
        receiveShadows(controller);

        //  Allow this controller to interact with DAT GUI.

        var guiInputHelper = dat.GUIVR.addInputObject(controller);
        scene.add(guiInputHelper);

        // BUTTON EVENTS /////////////////////////////////////////////////////////////
        //  Button events. How easy is this?!
        //  We’ll just use the “primary” button -- whatever that might be ;)
        //  Check out the THREE.VRController.supported{} object to see
        //  all the named buttons we’ve already mapped for you!

        controller.addEventListener("primary press began", function(event) {
          event.target.userData.mesh.material.color.setHex(meshColorOn);
          guiInputHelper.pressed(true);
        });
        controller.addEventListener("primary press ended", function(event) {
          event.target.userData.mesh.material.color.setHex(meshColorOff);
          guiInputHelper.pressed(false);
        });

        ///////////////////////////////////////////////////////////////////////////////

        //  Daddy, what happens when we die?

        controller.addEventListener("disconnected", function(event) {
          controller.parent.remove(controller);
        });
      });

      function update() {
        //  Here’s VRController’s UPDATE goods right here:
        //  This one command in your animation loop is going to handle
        //  all the VR controller business you need to get done!

        THREE.VRController.update();
        //THREE.VRController.verbosity = 1

        //  And here’s your standard update and render stuff.
        //  Nothing new to see here.

        //rotating the sculpture
        if (tree != null) {
          //tree.rotation.y += 0.005
        }
        
        //rotating the camera
        rotation += 0.005;
        //rotating spot light
        lightContainer.position.y = 15;
        lightContainer.position.x = Math.sin(rotation) * 100;
        lightContainer.position.z = Math.cos(rotation) * 100;
        //camera.lookAt( scene.position ); // the origin
        
        textsGroup[0].rotation.y -= 0.01;
        textsGroup[1].rotation.y -= 0.0075;
        textsGroup[2].rotation.y -= 0.005;
        textsGroup[3].rotation.y -= 0.008;
        textsGroup[4].rotation.y -= 0.012;
        textsGroup[5].rotation.y -= 0.011;
        textsGroup[6].rotation.y -= 0.008;
        textsGroup[7].rotation.y -= 0.013;
        textsGroup[8].rotation.y -= 0.012;


        torus.rotation.y += 0.002;
        if (torus.rotation.y > Math.PI) torus.rotation.y -= Math.PI * 2; //  Keep DAT GUI display tidy!
        renderer.render(scene, camera);
      }
      renderer.animate(update);
    </script>
    <header>
      <strong>VRController</strong> for Three.js<br />
      <a href="https://github.com/stewdio/THREE.VRController" target="_blank"
        >View this source code on GitHub</a
      >.<br />
      See also <a href="http://stewartsmith.io" target="_blank">Stewart Smith</a
      ><br />
      and <a href="https://moar.io" target="_blank">Moar Technologies Corp</a>.
    </header>
  </body>
</html>
